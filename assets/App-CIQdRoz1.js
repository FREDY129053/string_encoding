import{c as b,j as o}from"./index-BxvDQIsR.js";function v(t,n){const l="абвгдеёжзийклмнопрстуфхцчшщъыьэюя",i=l.length;let h="";for(let e=0;e<t.length;e++)h+=n[e%n.length];let s="";for(let e=0;e<t.length;e++){const a=(l.indexOf(t[e])+l.indexOf(h[e]))%i;s+=l[a]}return s}function _(t,n){const l="абвгдеёжзийклмнопрстуфхцчшщъыьэюя",i=l.length;let h="";for(let e=0;e<t.length;e++)h+=n[e%n.length];let s="";for(let e=0;e<t.length;e++){const a=(l.indexOf(t[e])^l.indexOf(h[e]))%i;s+=l[a]}return s}function O(t,n){const l="абвгдеёжзийклмнопрстуфхцчшщъыьэюя",h="ъ",s=Array.from(new Set((n+l).split(""))).join(""),e=[];for(let u=0;u<s.length;u+=8)e.push(s.slice(u,u+8).split(""));const a=[];for(let u=0;u<t.length;u+=2)a.push(t.slice(u,u+2));const d=[];let r="";for(const u of a)r?(d.push(r+u[0]),r=""):u.length===1?d.push(u+h):u[0]===u[1]?(d.push(u[0]+h),r=u[1]):d.push(u);let x="";for(const u of d){const[p,y]=u.split(""),[c,m]=N(p,e),[f,g]=N(y,e);c===f?x+=e[c][(m+1)%8]+e[f][(g+1)%8]:m===g?x+=e[(c+1)%e.length][m]+e[(f+1)%e.length][g]:e[c].length===1?x+=e[0][g]+e[f][m]:x+=e[c][g]+e[f][m]}return x}function N(t,n){for(let l=0;l<n.length;l++){const i=n[l].indexOf(t);if(i!==-1)return[l,i]}return[-1,-1]}function k(t){const n="абвгдеёжзийклмнопрстуфхцчшщъыьэюя",i=Array.from(new Set((t+n).split(""))).join(""),h=[];for(let s=0;s<i.length;s+=8)h.push(i.slice(s,s+8).split(""));return h}function C(t,n){const l="абвгдеёжзийклмнопрстуфхцчшщъыьэюя",i=l.length,h=[];for(let r=0;r<t.length**2;r++)h.push(l.indexOf(n[r%n.length]));const s=[];for(let r=0;r<t.length;r++)s.push(h.slice(r*t.length,(r+1)*t.length));const e=[];for(const r of t)e.push([l.indexOf(r)]);const a=A(s,e);for(let r=0;r<a.length;r++)for(let x=0;x<a[r].length;x++)a[r][x]%=i;let d="";for(let r=0;r<a.length;r++)for(let x=0;x<a[r].length;x++)d+=l[a[r][x]];return d}function A(t,n){const l=t.length,i=t[0].length,h=n.length,s=n[0].length;if(i!==h)return console.log("Error: Number of columns in the first matrix must be equal to the number of rows in the second matrix."),[];const e=[];for(let a=0;a<l;a++){e[a]=[];for(let d=0;d<s;d++)e[a][d]=0}for(let a=0;a<l;a++)for(let d=0;d<s;d++)for(let r=0;r<i;r++)e[a][d]+=t[a][r]*n[r][d];return e}function S(t,n){n===null&&(n="привет");const l="абвгдеёжзийклмнопрстуфхцчшщъыьэюя",i=l.length,h=(n+t).slice(0,t.length);let s="";for(let e=0;e<t.length;e++){const a=(l.indexOf(t[e])+l.indexOf(h[e]))%i;s+=l[a]}return s}function L(t){const n="абвгдеёжзийклмнопрстуфхцчшщъыьэюя",l=n.length;let i="";for(let s=0;s<t.length-1;s++){const e=(n.indexOf(t[s])+n.indexOf(t[s+1]))%l;i+=n[e]}i+=n[(n.indexOf(t[t.length-1])+n.indexOf(t[0]))%l],console.log(i);let h="";for(let s=0;s<t.length;s++){const e=(n.indexOf(t[s])+n.indexOf(i[s]))%l;h+=n[e]}return h}const K=()=>{const[t,n]=b.useState(""),[l,i]=b.useState(""),[h,s]=b.useState(null),[e,a]=b.useState([]),[d,r]=b.useState([]),x=[{name:"Виженер",func:v},{name:"Вернам",func:_},{name:"Плейфер",func:O},{name:"Хилл",func:C},{name:"Автоклав",func:L},{name:"Автоключ",func:S}],u=(c,m)=>{const f=c.replace(/[^а-яА-Я]/g,"");m(f)},p=c=>{a(m=>m.includes(c)?m.filter(f=>f!==c):[...m,c])},y=()=>{const c=e.map(m=>{const f=x.find(g=>g.name===m);if(f)try{const g=f.name==="Автоключ"?f.func(t,h||"привет"):f.func(t,l);if(f.name==="Плейфер"){const j=k(l);return{algorithm:f.name,result:g,matrix:j}}return{algorithm:f.name,result:g}}catch(g){return{algorithm:f.name,result:`Ошибка при шифровании
${g}`}}return{algorithm:m,result:"Алгоритм не найден"}});r(c)};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-r from-blue-50 to-blue-100 flex flex-col items-center p-6",children:[o.jsx("h1",{className:"text-4xl font-extrabold mb-8 text-gray-800",children:"Шифрование сообщений"}),o.jsxs("div",{className:"w-full max-w-5xl bg-white shadow-lg rounded-xl p-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-2",children:"Сообщение"}),o.jsx("input",{type:"text",value:t,onChange:c=>u(c.target.value,n),className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Введите сообщение"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-2",children:"Ключ"}),o.jsx("input",{type:"text",value:l,onChange:c=>u(c.target.value,i),className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Введите ключ"})]}),e.includes("Автоключ")&&o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-2",children:'Ключевое слово для "Автоключ"'}),o.jsx("input",{type:"text",value:h||"",onChange:c=>u(c.target.value,s),className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"привет"})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("p",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Выберите алгоритмы шифрования:"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:x.map(c=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:c.name,checked:e.includes(c.name),onChange:()=>p(c.name),className:"w-5 h-5 text-blue-500 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:c.name,className:"ml-3 text-gray-700 font-medium",children:c.name})]},c.name))})]}),o.jsx("button",{onClick:y,disabled:!t||!l,className:`w-full py-3 px-6 rounded-lg text-lg font-semibold transition ${!t||!l?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:"Зашифровать"}),o.jsxs("div",{className:"mt-10",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Результаты:"}),d.length>0?d.map((c,m)=>o.jsxs("div",{className:"p-6 mb-6 bg-blue-50 border border-blue-200 rounded-lg shadow-sm",children:[o.jsx("p",{className:"text-xl font-semibold text-gray-800 mb-4",children:c.algorithm}),o.jsx("p",{className:"text-gray-700 mb-4",children:c.result}),c.matrix&&o.jsxs("div",{className:"mt-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Матрица ключа:"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsx("table",{className:"border-collapse border border-gray-400 mx-auto",children:o.jsx("tbody",{children:c.matrix.map((f,g)=>o.jsx("tr",{children:f.map((j,w)=>o.jsx("td",{className:"border border-gray-400 px-4 py-2 text-center font-mono text-lg",children:j},w))},g))})})})]})]},m)):o.jsx("p",{className:"text-gray-500 text-lg",children:'Выберите алгоритмы и нажмите "Зашифровать".'})]})]})]})};export{K as default};
